<!DOCTYPE html>
<html>
<head>
<title>Helper for Google+ Extension Options</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="shortcut icon" HREF="img/icon16.png">
<link rel="stylesheet" type="text/css" href="css/options.css">

<script src="js/assets.js"></script>

<script type="text/javascript">
	var assets = new Assets();
</script>

<script type="text/javascript" src="lib/i18n.js"></script>
<script type="text/javascript" src="js/options.js"></script>
<script type="text/javascript" src="lib/3rdparty/jquery-1.4.2.min.js"></script>

<!-- <script src="oauth2/oauth2.js"></script> -->

<script type="text/javascript">

/* var googleAuth = new OAuth2('google', {
	  client_id: assets.oauth2_client_id,
	  client_secret: assets.oauth2_client_secret,
	  api_scope: assets.oauth2_api_scope
}); */
	
//Restores select box state to saved value from localStorage.
/* var tabs = { tabs: {
					  {name: 'options'}
					, {name: 'tts'}
					, {name: 'api'}
					, {name: 'about'}
			}}; */

			
	var optionsValues = {
			 options: {
			  option_add_twitter: { type: "attr", default: true, value: true, attr: "checked" }
			, option_add_facebook: { type: "attr", default: true, value: true, attr: "checked" }
			, option_add_translate: { type: "attr", default: true, value: true, attr: "checked" }
			, option_add_bookmark: { type: "attr", default: false, value: true, attr: "checked" }
			, option_add_bookmark_delicious: { type: "attr", default: false, value: false, attr: "checked" }
			, option_add_plusone_button: { type: "attr", default: true, value: true, attr: "checked" }
			, option_add_plusone_button_count: { type: "attr", default: true, value: true, attr: "checked" }
			, option_add_chrome_bookmark: { type: "attr", default: true, value: true, attr: "checked" }
			, option_add_chrome_bookmark_toolbar: { type: "attr", default: true, value: true, attr: "checked" }
			, option_add_translate_to: { type: "val", default: "en", value: "en"}
			, option_notificationOn: { type: "attr", default: true, value: true, attr: "checked" }
			, option_notification_sound: { type: "val", default: "sound/01.mp3", value: "sound/01.mp3"}
			, option_notification_time: {type: "val", default: 5000, value: 5000}
			, option_ttsOn: { type: "attr", default: true, value: true, attr: "checked" }
			, option_tts_language: { type: "val", default: "native", value: "native"}
			, option_tts_gender: { type: "val", default: "female", value: "female"}
			, option_tts_lang: { type: "val", default: "en-US", value: "en-US"}
			, option_tts_rate: { type: "val", default: "1.0", value: "1.0"}
			, option_tts_pitch: { type: "val", default: "1.0", value: "1.0"}
			, option_tts_volume: { type: "val", default: "1.0", value: "1.0"}
			, option_debug: { type: "attr", default: true, value: true, attr: "checked" }
			}
			};

	
	function selectTab(tab) {
		if (tab == undefined || tab == '') {
			tab = "options";
		}
		tab = tab.replace('#', '');
		
		$('.d-Aa').removeClass('d-Aa-Pa');
		$('#-x-' + tab).addClass('d-Aa-Pa');
		
		$('#options_tab').hide();
		$('#tts_tab').hide();
		$('#api_tab').hide();
		$('#about_tab').hide();
		$('#debug_tab').hide();
		

		$('#' + tab + '_tab').show();
		
	}
	
	var lastApiKey = undefined;
	$(document).ready(function() {
		
	   var currentTab = location.hash.replace('#', '');
		
	   selectTab(currentTab);
		
	   
		chrome.tts.getVoices(
			    function(voices) {
			      for (var i = 0; i < voices.length; i++) {

			    	  $('#option_tts_language')
			          .append($("<option></option>")
			          .attr("value", voices[i].voiceName)
			          .text(voices[i].voiceName))
			          
			        console.log('Voice ' + i + ':');
			        console.log('  name: ' + voices[i].voiceName);
			        console.log('  lang: ' + voices[i].lang);
			        console.log('  gender: ' + voices[i].gender);
			        console.log('  extension id: ' + voices[i].extensionId);
			        console.log('  event types: ' + voices[i].eventTypes);
			      }
		});
		
	   $('.d-Aa').click(function() {
			selectTab($(this).attr('href'));
		});
	   
	   $('#option_apiKey').focus(function() {
		   lastApiKey = $('#option_apiKey').val();
	   }).blur(function() {
			 if (lastApiKey != $('#option_apiKey').val()) {
				 $('#btnTestApi').addClass('d-ze-qc');
			 }
	   });
	   
	   $('#btnTestApi').click(function() {

		   if ( $('#option_apiKey').val() == undefined ||  $('#option_apiKey').val() == '') {
				console.log('settings.apiKey', bkg.settings.apiKey);
				alert('Please put your simple api key in to textbox\nand hit the validate button');
				return;
			}
		   
		     var request = 'https://www.googleapis.com/plus/v1/people/104512463398531242371?fields=displayName%2Cid%2Cimage%2Cname&pp=1&key=' + $('#option_apiKey').val();

		     $('#btnTestApi').text('Validating...');
				bkg.doApiCall(request, function(result){
					if (result.error) {
						$('#btnTestApi').text('Validate');
						
						alert('wrong api key');
						bkg.settings.apiKey = '';
						bkg.settings.isApiEnabled = false;
						assets.googlePlusAPIKey = '';
						
						$('#option_apiKey').val('');
						$('#option_apiKey').focus();
					} else {
						$('#btnTestApi').text('Validate');
						bkg.settings.apiKey = $('#option_apiKey').val();
						bkg.settings.isApiEnabled = true;
						assets.googlePlusAPIKey = bkg.settings.apiKey;
						alert('Your Simply access Google+ API has been saved');
						//markDirty(); 
					}
					
					$('#btnTestApi').removeClass('d-ze-qc');

					
				});
			
	/* 	   googleAuth.authorize(function() {
				console.log('OAuth:', googleAuth.getAccessToken());
			});
	 */	   
	   });
	   
	   
	   //d-Aa-qa-cq
/* 		$('.d-Aa').hover(
		  function () {
		  	$('div', this).removeClass('d-Aa-qa').addClass('d-Aa-qa-cq');
		  }, 
		  function () {
			$('div', this).removeClass('d-Aa-qa-cq').addClass('d-Aa-qa');
		  }
		); */
		

		if (bkg.settings.addTwitter == "true") {
			$("#option_add_twitter").attr("checked", "true");
		}

		if (bkg.settings.addFacebook == "true") {
			$("#option_add_facebook").attr("checked", "true");
		}
		
		if (bkg.settings.addTranslate == "true") {
			$("#option_add_translate").attr("checked", "true");
		}
		
		/* if (bkg.settings.addHashtags == "true") {
			$("#option_add_hashtags").attr("checked", "true");
		} */
		
		
		if (bkg.settings.addBookmarks == "true") {
			$("#option_add_bookmark").attr("checked", "true");
		}
		
		if (bkg.settings.addDelicious == "true") {
			$("#option_add_bookmark_delicious").attr("checked", "true");
		}
		
		
		if (bkg.settings.addPlusOne == "true") {
			$("#option_add_plusone_button").attr("checked", "true");
		}
		
		if (bkg.settings.addPlusOneCounter == "true") {
			$("#option_add_plusone_button_count").attr("checked", "true");
		}
		
		if (bkg.settings.addChromeBookmarks == "true") {
			$("#option_add_chrome_bookmark").attr("checked", "true");
		}
		
		if (bkg.settings.addChromeBookmarksToolbar == "true") {
			$("#option_add_chrome_bookmark_toolbar").attr("checked", "true");
		}
		

		$("#option_add_translate_to").val(bkg.settings.addTranslateTo);

		if (bkg.settings.notificationOn) {
			$("#option_notificationOn").attr("checked", "true");
		}

		$("#option_notification_sound").val(bkg.settings.notificationSound);
		$('#option_notification_time').val(bkg.settings.notificationTime);
		$('#option_notification_time_value').text(bkg.settings.notificationTime/1000)
		/*
		 * TTS
		 */
		if (bkg.settings.ttsOn || bkg.settings.ttsOn == "true") {
			$("#option_ttsOn").attr("checked", "true");
		}
	
		$('#option_tts_lang').val(bkg.settings.ttsLang);
		$('#option_tts_gender').val(bkg.settings.ttsGender);
		$('#option_tts_pitch').val(bkg.settings.ttsPitch);
		$('#option_tts_rate').val(bkg.settings.ttsRate);
		$('#option_tts_volume').val(bkg.settings.ttsVolume);
		
		if (bkg.settings.isDebug == "true") {
			$("#option_debug").attr("checked", "true");
		}
			
		/*
		 * KEY
		 */
		$('#option_apiKey').val(bkg.settings.apiKey);
	});
	
</script>

</head>
<body onload="_initOptionsPage();">

	<div id="content" class="va-Q">

		<!-- <div id="content" >
-->
		<div id="header">
			<h1>
				<script type="text/javascript">
					_writeMessage('option_header_title');
				</script>
			</h1>
		</div>

		<div class="d-Aa-ua d-Aa-ua-Fa">
			<a href="#options" id="-x-options" class="d-Aa d-s-r a-Aa-Zl d-Aa-Pa">
				<div class="d-Aa-qa">Configuration</div>
			</a> 
			<a href="#tts" id="-x-tts" class="d-Aa d-s-r a-Aa-Zl">
				<div class="d-Aa-qa">TTS</div>
			</a>
			
			<a href="#api" id="-x-api" class="d-Aa d-s-r a-Aa-Zl">
				<div class="d-Aa-qa">Google+ API</div>
			</a>
			
			<a href="#about" id="-x-about" class="d-Aa d-s-r a-Aa-Zl">
				<div class="d-Aa-qa">About</div>
			</a>
			
			<a href="#debug" id="-x-debug" class="d-Aa d-s-r a-Aa-Zl">
				<div class="d-Aa-qa">Debug</div>
			</a>			
			<div class="clear">
				<!---->
			</div>
		</div>
	
<div id="options_tab">
		<div style="display: none;">
			<script type="text/javascript">
				_writeMessage('description_body');
			</script>

		</div>
		<div class="option_row">
			<div class="option_name">Extend post area</div>
			<div class="option_picker">
				<table border="0">
					<tr>
						<td class="option">Twitter</td>
						<td><input type="checkbox" id="option_add_twitter"
							name="option_add_twitter" onchange="markDirty();" value="1" />
						</td>
					</tr>

					<tr>
						<td class="option">Facebook</td>
						<td><input type="checkbox" id="option_add_facebook"
							name="option_add_facebook" onchange="markDirty();" value="1" />
						</td>
					</tr>

					<tr>
						<td class="option">Translate</td>
						<td><input type="checkbox" id="option_add_translate"
							name="option_add_translate" onchange="markDirty();" value="1" />
							translate to <select id="option_add_translate_to"
							onchange="markDirty();">
								<option value="af">Afrikaans</option>
<option value="sq">Albanian</option>
<option value="ar">Arabic</option>
<option value="be">Belarusian</option>
<option value="bg">Bulgarian</option>
<option value="ca">Catalan</option>
<option value="zh-CN">Chinese Simplified</option>
<option value="zh-TW">Chinese Traditional</option>
<option value="hr">Croatian</option>
<option value="cs">Czech</option>
<option value="da">Danish</option>
<option value="nl">Dutch</option>
<option value="en">English</option>
<option value="et">Estonian</option>
<option value="tl">Filipino</option>
<option value="fi">Finnish</option>
<option value="fr">French</option>
<option value="gl">Galician</option>
<option value="de">German</option>
<option value="el">Greek</option>
<option value="ht">Haitian Creole</option>
<option value="iw">Hebrew</option>
<option value="hi">Hindi</option>
<option value="hu">Hungarian</option>
<option value="is">Icelandic</option>
<option value="id">Indonesian</option>
<option value="ga">Irish</option>
<option value="it">Italian</option>
<option value="ja">Japanese</option>
<option value="lv">Latvian</option>
<option value="lt">Lithuanian</option>
<option value="mk">Macedonian</option>
<option value="ms">Malay</option>
<option value="mt">Maltese</option>
<option value="no">Norwegian</option>
<option value="fa">Persian</option>
<option value="pl">Polish</option>
<option value="pt">Portuguese</option>
<option value="ro">Romanian</option>
<option value="ru">Russian</option>
<option value="sr">Serbian</option>
<option value="sk">Slovak</option>
<option value="sl">Slovenian</option>
<option value="es">Spanish</option>
<option value="sw">Swahili</option>
<option value="sv">Swedish</option>
<option value="th">Thai</option>
<option value="tr">Turkish</option>
<option value="uk">Ukrainian</option>
<option value="vi">Vietnamese</option>
<option value="cy">Welsh</option>
<option value="yi">Yiddish</option>

						</select>
						</td>
					</tr>
<!-- 
					<tr>
						<td class="option" title="We will add linked hashtags on the fly">Hashtags</td>
						<td><input type="checkbox" id="option_add_hashtags"
							name="option_add_hashtags" onchange="markDirty();" value="1" />
						</td>
					</tr>-->

					<!-- <tr>
						<td class="option" title="Bookmark in Google Lists">Bookmark</td>
						<td><input type="checkbox" id="option_add_bookmark"
							name="option_add_bookmark" onchange="markDirty();" value="1" />
						</td>
					</tr>
					 -->
					 
					<tr>
						<td class="option" title="Bookmark on Delicious">Delicious</td>
						<td><input type="checkbox" id="option_add_bookmark_delicious"
							name="option_add_bookmark_delicious" onchange="markDirty();" value="1" />
						</td>
					</tr>
				</table>
			</div>
		</div>


		<div class="clear">
			<!---->
		</div>

		<div class="option_row">
			<div class="option_name">Notifications</div>
			<div class="option_picker">

				<table border="0">
						<tr>
							<td colspan="2" style="color: #999;">
							For proper work of the notifications you should open one tab with the Google+ site <a href="https://plus.google.com/">plus.google.com</a> and don't close it ;).
							</td>
						</tr>
					
					
						<tr>
							<td class="option">Enabled</td>
							<td><input type="checkbox" id="option_notificationOn"
							name="option_notificationOn" onchange="markDirty();" value="1" />
							</td>
						</tr>

						<tr>
							<td class="option">Sound</td>
							<td><select id="option_notification_sound" onchange="markDirty();">
									<option value="">
										<script type="text/javascript">
											_writeMessage('option_sound_alert_none');
										</script>
									</option>
									<option value="sound/01.mp3">
										<script type="text/javascript">
											_writeMessage(
													'option_sound_alert_value',
													"1");
										</script>
									</option>
									<option value="sound/02.mp3">
										<script type="text/javascript">
											_writeMessage(
													'option_sound_alert_value',
													"2");
										</script>
									</option>
									<option value="sound/03.mp3">
										<script type="text/javascript">
											_writeMessage(
													'option_sound_alert_value',
													"3");
										</script>
									</option>
									<option value="sound/04.mp3">
										<script type="text/javascript">
											_writeMessage(
													'option_sound_alert_value',
													"4");
										</script>
									</option>

								</select> <span class="va-Q-bb">
									<button onclick="options.playSound();" style="float: none;">
										<script type="text/javascript">
											_writeMessage('button_play');
										</script>
									</button>
								</span>
							</td>
						</tr>
						<tr>
							<td class="option">Display</td>
							<td>
							<!-- <select id="option_notification_time"
							onchange="markDirty();">
								<option value="3000">3</option>
								<option value="5000">5</option>
								<option value="10000">10</option>
								<option value="15000">15</option>
						</select>  -->
							  <input id="option_notification_time" type="range" min="3000" max="15000" value="5000" step="1000" style="cursor: pointer;" onchange="markDirty();$('#option_notification_time_value').text(this.value/1000)">
								<span id="option_notification_time_value"></span> seconds
						
							</td>
						</tr>


				</table>

			</div>
		</div>

	<div class="option_row">
			<div class="option_name">Chrome Bookmarks</div>
			<div class="option_picker">
				<table border="0">
						<tr>
							<td class="option" title="Show bookmark star in each post">Enabled</td>
							<td><input type="checkbox" id="option_add_chrome_bookmark"
							name="option_add_chrome_bookmark" onchange="markDirty();" value="1" />
							</td>
						</tr>

						<tr>
							<td class="option" title="Add bookmark button to the Google Plus Toolbar">Toolbar</td>
							<td>
							<input type="checkbox" id="option_add_chrome_bookmark_toolbar"
							name="option_add_chrome_bookmark_toolbar" onchange="markDirty();" value="1" />
							</td>
						</tr>
				</table>

			</div>
		</div>



	<div class="option_row">
			<div class="option_name">+1 Button</div>
			<div class="option_picker">
				<table border="0">
						<tr>
							<td class="option" title="Show plus one button">Enabled</td>
							<td><input type="checkbox" id="option_add_plusone_button"
							name="option_add_plusone_button" onchange="markDirty();" value="1" />
							</td>
						</tr>

						<tr>
							<td class="option" title="Show aggregate counter">Counter</td>
							<td>
							<input type="checkbox" id="option_add_plusone_button_count"
							name="option_add_plusone_button_count" onchange="markDirty();" value="1" />
							</td>
						</tr>
				</table>

			</div>
		</div>
					
					
					

		<div class="clear">
			<!---->
		</div>
</div>
<div id="tts_tab">
		<div class="option_row">
			<div class="option_name">TTS</div>
			<div class="option_picker">

				<table border="0">
						<tr>
							<td colspan="2" style="color: #999;">
							For proper work of the Text To Speach (TTS) you need to have installed voices on your computer. 
							For more info check <a href="https://www.google.com/">google.com</a>.
							</td>
						</tr>
						<tr>
							<td class="option">Enabled</td>
							<td><input type="checkbox" id="option_ttsOn"
							name="option_ttsOn" onchange="markDirty();" value="1" />
							</td>
						</tr>

						<tr>
							<td class="option">Gender</td>
							<td><select id="option_tts_gender" onchange="markDirty();">
									<option value="female">Female</option>
									<option value="male">Male</option>
								</select>
							</td>
						</tr>
						
						<tr>
							<td class="option">Voice</td>
							<td><select id="option_tts_language" onchange="markDirty();">
									<option value="">Unspecified</option>
								</select>
							</td>
						</tr>


						<tr>
							<td class="option">Language</td>
							<td><select id="option_tts_lang"  onchange="markDirty();">
 <option value="">Unspecified</option>
  <option value="af">Afrikaans</option>
  <option value="sq">shqipe</option>
  <option value="am">አማርኛ</option>
  <option value="ar">العربية</option>
  <option value="hy">Հայերէն</option>
  <option value="az">azərbaycanca</option>
  <option value="eu">euskara</option>
  <option value="be">беларуская</option>
  <option value="bn">বাংলা</option>
  <option value="bh">Bihari</option>
  <option value="bs">bosanski</option>
  <option value="br">Breton</option>
  <option value="bg">български</option>
  <option value="ca">català</option>
  <option value="zh">中文</option>
  <option value="zh-CN">中文（简体中文）</option>
  <option value="zh-TW">中文 (繁體中文)</option>
  <option value="co">Corsican</option>
  <option value="hr">hrvatski</option>
  <option value="cs">čeština</option>
  <option value="da">dansk</option>
  <option value="nl">Nederlands</option>
  <option value="en">English</option>
  <option value="en-AU">English (Australia)</option>
  <option value="en-CA">English (Canada)</option>
  <option value="en-NZ">English (New Zealand)</option>
  <option value="en-ZA">English (South Africa)</option>
  <option value="en-GB">English (United Kingdom)</option>
  <option value="en-US" selected="selected">English (United States)</option>
  <option value="eo">esperanto</option>
  <option value="et">eesti</option>
  <option value="fo">føroyskt</option>
  <option value="fil">Filipino</option>
  <option value="fi">suomi</option>
  <option value="fr">français</option>
  <option value="fr-CA">français (Canada)</option>
  <option value="fr-FR">français (France)</option>
  <option value="fr-CH">français (Suisse)</option>
  <option value="gl">galego</option>
  <option value="ka">ქართული</option>
  <option value="de">Deutsch</option>
  <option value="de-AT">Deutsch (Österreich)</option>
  <option value="de-DE">Deutsch (Deutschland)</option>
  <option value="de-CH">Deutsch (Schweiz)</option>
  <option value="el">Ελληνικά</option>
  <option value="gn">Guarani</option>
  <option value="gu">ગુજરાતી</option>
  <option value="ha">Hausa</option>
  <option value="haw"> ʻōlelo Hawaiʻi</option>
  <option value="he">עברית</option>
  <option value="hi">हिन्दी</option>
  <option value="hu">magyar</option>
  <option value="is">íslenska</option>
  <option value="id">Bahasa Indonesia</option>
  <option value="ia">Interlingua</option>
  <option value="ga">Gaeilge</option>
  <option value="it">italiano</option>
  <option value="it-IT">italiano (Italia)</option>
  <option value="it-CH">italiano (Svizzera)</option>
  <option value="ja">日本語</option>
  <option value="jw">Javanese</option>
  <option value="kn">ಕನ್ನಡ</option>
  <option value="kk">Қазақ</option>
  <option value="km">ភាសាខ្មែរ</option>
  <option value="ky">Kirghiz</option>
  <option value="ko">한국어</option>
  <option value="ku">Kurdish</option>
  <option value="lo">Lao</option>
  <option value="la">Latin</option>
  <option value="lv">latviešu</option>
  <option value="ln">Lingala</option>
  <option value="lt">lietuvių</option>
  <option value="mk">македонски</option>
  <option value="ms">Bahasa Melayu</option>
  <option value="ml">മലയാളം</option>
  <option value="mt">Malti</option>
  <option value="mr">मराठी</option>
  <option value="mo">mo</option>
  <option value="mn">Mongolian</option>
  <option value="ne">नेपाली</option>
  <option value="no">norsk</option>
  <option value="nb">norsk bokmål</option>
  <option value="nn">nynorsk</option>
  <option value="oc">Occitan</option>
  <option value="or">ଓଡ଼ିଆ</option>
  <option value="om">Oromoo</option>
  <option value="ps">پښتو</option>
  <option value="fa">فارسی</option>
  <option value="pl">polski</option>
  <option value="pt">português</option>
  <option value="pt-BR">português (Brasil)</option>
  <option value="pt-PT">português (Portugal)</option>
  <option value="pa">ਪੰਜਾਬੀ</option>
  <option value="qu">Quechua</option>
  <option value="ro">română</option>
  <option value="rm">rumantsch</option>
  <option value="ru">русский</option>
  <option value="gd">Scottish Gaelic</option>
  <option value="sr">Српски</option>
  <option value="sh">Serbo-Croatian</option>
  <option value="sn">chiShona</option>
  <option value="sd">Sindhi</option>
  <option value="si">සිංහල</option>
  <option value="sk">slovenčina</option>
  <option value="sl">slovenščina</option>
  <option value="so">Soomaali</option>
  <option value="st">Southern Sotho</option>
  <option value="es">español</option>
  <option value="es-419">español (Latinoamérica)</option>
  <option value="su">Sundanese</option>
  <option value="sw">Kiswahili</option>
  <option value="sv">svenska</option>
  <option value="tg">Tajik</option>
  <option value="ta">தமிழ்</option>
  <option value="tt">Tatar</option>
  <option value="te">తెలుగు</option>
  <option value="th">ไทย</option>
  <option value="ti">ትግርኛ</option>
  <option value="to">lea fakatonga</option>
  <option value="tr">Türkçe</option>
  <option value="tk">Turkmen</option>
  <option value="tw">Twi</option>
  <option value="ug">Uighur</option>
  <option value="uk">українська</option>
  <option value="ur">اردو</option>
  <option value="uz">Ўзбек</option>
  <option value="vi">Tiếng Việt</option>
  <option value="cy">Cymraeg</option>
  <option value="fy">Western Frisian</option>
  <option value="xh">Xhosa</option>
  <option value="yi">Yiddish</option>
  <option value="yo">Èdè Yorùbá</option>
  <option value="zu">isiZulu</option>
						</select>
							</td>
						</tr>
			<tr>
						<td class="option"></td>
						<td>
						   <span style="color: #999;">Enter text here and test</span>
 						 	<div id="ttsTextTest" contenteditable="true" style="padding: 4px; margin-top:10px; margin-right:20px; overflow:hidden">Enter text to read</div>
 						 		<span class="va-Q-bb">
									<button onclick="options.doSpeakOption();" style="float: none;">
										<script type="text/javascript">_writeMessage('button_tts_speak');</script>
									</button>
									<button onclick="options.doStopSpeakOption();" style="float: none;">
										<script type="text/javascript">_writeMessage('button_tts_stop');</script>
									</button>
								</span>
 						</td>
					</tr>
				</table>
			</div>
	</div>		
 
	<div class="option_row">
		<div class="option_name">Voice</div>
		<div class="option_picker">
			<table style="border:0px;">
					<tr>
						<td class="option">Rate</td>
						<td>
						    <input id="option_tts_rate" type="range" min="0.5" max="4.0" value="1.0" step="0.1" style="cursor: pointer;" onchange="markDirty();">
						</td>
					</tr>
					<tr>
						<td class="option">Pitch</td>
						<td>
						     <input id="option_tts_pitch" type="range" min="0.0" max="2.0" value="1.0" step="0.2" style="cursor: pointer;" onchange="markDirty();">
						</td>
					</tr>
					<tr>
						<td class="option">Volume</td>
						<td>
						     <input id="option_tts_volume" type="range" min="0.0" max="1.0" value="1.0" step="0.1" style="cursor: pointer;" onchange="markDirty();">
							</td>
						</tr>
			</table>
</div>
</div>
</div>

<div id="api_tab">

	<div class="option_row">
		<div class="option_name"></div>
		<div class="option_picker"  style="color: #999; width: 400px;">
		You need to create your own API key due limited usage quota per API key (1000 requests per day).
		</div>
	</div>
	
	<div class="option_row">
		<div class="option_name">Google+ API-Key</div>
		<div class="option_picker">
			<input id="option_apiKey" placeholder="api-key">
			<span class="va-Q-bb">
				<button id="btnTestApi" style="float: none;">Validate</button>
			</span>
		
		</div>
	</div>
	
	<div class="option_row">
		<div class="option_name"></div>
		<div class="option_picker"  style="color: #999; width: 400px;">
		
		The Google+ API currently provides read-only access to public data.<br>
		
		<br><br>
		Login to Google APIs Console with your Google account to <a href="https://code.google.com/apis/console" target="_blank">obtain your Google+ API key</a>.
		
		<iframe style="margin-top: 5px; margin-bottom: 5px;" width="420" height="315" src="http://www.youtube.com/embed/Gne4U-pqLIk" frameborder="0" allowfullscreen></iframe>
		
		Also you can check <a href="http://www.googleplusers.com/google-plus-api-key-to-create-your-profile-widget.html" target="_blank">this tutorial</a>.
		</div>
	</div>

</div>

<div id="about_tab">

<div class="option_row" style="color: #999;">
	Created by <a href="https://plus.google.com/104512463398531242371">m.kupriyanov</a>
</div>
					
	<div class="option_row">
				<div class="option_name"></div>
				<div class="option_picker"></div>
	</div>

</div>

<div id="debug_tab">

	<div class="option_row">
				<div class="option_name">Debug</div>
				<div class="option_picker">
				<input type="checkbox" id="option_debug"
							name="option_debug" onchange="markDirty();" value="1" />
				</div>
	</div>

</div>
		
		<div class="clear">
			<!---->
		</div>

<div class="buttons">
			<span id="save_status"><script type="text/javascript">
				_writeMessage('status_save');
			</script> </span>

			<div class="va-Q-bb">
				<button name="yes" id="save_button" onclick="saveOptions();">
					<script type="text/javascript">
						_writeMessage('button_save');
					</script>
				</button>
				<button name="cancel" id="reset_button"
					onclick="resetOptions();return false;">
					<script type="text/javascript">
						_writeMessage('button_reset');
					</script>
				</button>
			</div>

		</div>

		<div class="clear">
			<!---->
		</div>

		<!-- 
<div id="title_license" class="section-header first"><script type="text/javascript">_writeMessage('license_title');</script></div>
<div id="body_license"><script type="text/javascript">_writeMessage('license_body');</script></div>
-->
	</div>

	<footer>
		<script type="text/javascript">
			_writeMessage('footer_info');
		</script>
	</footer>


	<script type="text/javascript">
		var saveButton;

		function _initOptionsPage() {
			saveButton = document.getElementById("save_button");
			if (bkg.settings.isFirstRun) {
				markDirty();
			} else {
				markClean();
			}

		}

		function saveOptions() {
			markClean();

			save_options();
			return false;
		}

		function resetOptions() {
			var option = undefined;
			
			for ( var option_name in optionsValues.options) {
				option = optionsValues.options[option_name];
				
				switch (option.type) {
				case 'attr':
					console.log(option_name, option);
					$("#" + option_name).attr(option.attr, option.default);
					break;
				case 'val':
					console.log(option_name, option);
					$("#" + option_name).val(option.default);
					break;
				default:
					console.log('unknown type');
					break;
				}
			}
			saveOptions();
			return false;
		}
		
		function markDirty() {
			saveButton.disabled = false;
			$('#save_button').addClass('d-ze-qc');

		}

		function markClean() {
			saveButton.disabled = true;
			$('#save_button').removeClass('d-ze-qc');
		}

		//Saves options to localStorage.
		function save_options() {

			bkg.settings.addTwitter = $("#option_add_twitter").attr("checked");
			bkg.settings.addFacebook = $("#option_add_facebook").attr("checked");
			
			bkg.settings.addTranslate = $("#option_add_translate").attr("checked");
		
			//bkg.settings.addHashtags = $("#option_add_hashtags").attr("checked");
			
			bkg.settings.addBookmarks = $("#option_add_bookmark").attr("checked");
			bkg.settings.addDelicious = $("#option_add_bookmark_delicious").attr("checked");
			
			bkg.settings.addPlusOne = $("#option_add_plusone_button").attr("checked");
			bkg.settings.addPlusOneCounter = $("#option_add_plusone_button_count").attr("checked");
			
			bkg.settings.addChromeBookmarks = $("#option_add_chrome_bookmark").attr("checked");
			bkg.settings.addChromeBookmarksToolbar = $("#option_add_chrome_bookmark_toolbar").attr("checked");
			
			bkg.settings.addTranslateTo = $("#option_add_translate_to").val();

			bkg.settings.notificationOn = $("#option_notificationOn").attr("checked");
			bkg.settings.notificationSound = $("#option_notification_sound").val();
			bkg.settings.notificationTime = $('#option_notification_time').val();

			/*
			 * tts
			 */
			bkg.settings.ttsOn = $("#option_ttsOn").attr("checked");
			bkg.settings.ttsLang = $('#option_tts_lang').val();
			bkg.settings.ttsGender = $('#option_tts_gender').val();
			bkg.settings.ttsPitch = $('#option_tts_pitch').val();
			bkg.settings.ttsRate = $('#option_tts_rate').val();
			bkg.settings.ttsVolume = $('#option_tts_volume').val();
		
			bkg.settings.apiKey = $("#option_apiKey").val();
			
			bkg.settings.isDebug = $("#option_debug").attr("checked");
			
			//Refresh the extension by reseting timer.
			bkg.refreshConfiguration();

			$('#save_status').fadeIn('fast');
			$('#save_status').fadeOut(3000);
		}
	</script>
</body>
</html>