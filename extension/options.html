<!DOCTYPE html>
<html>
<head>
<title>Helper for Google+ Extension Options</title>
<link rel="shortcut icon" HREF="img/icon16.png">
<link rel="stylesheet" type="text/css" href="css/options.css">

<script type="text/javascript" src="lib/i18n.js"></script>
<script type="text/javascript" src="js/options.js"></script>
<script type="text/javascript" src="lib/3rdparty/jquery-1.4.2.min.js"></script>

<script type="text/javascript">
	//Restores select box state to saved value from localStorage.
	$(function() {
		/*
		 * 
		 */
		 
			if (bkg.settings.addTwitter == "true") {
				$("#options_add_twitter").attr("checked", "true");
			}
		
			if (bkg.settings.addTranslate == "true"){
				$("#options_add_translate").attr("checked", "true");
			}
			if (bkg.settings.addBookmarks == "true") {
				$("#options_add_bookmark").attr("checked", "true");
			}
			
			$("#options_add_translate_to").val(bkg.settings.addTranslateTo);
			
			if (bkg.settings.notificationOn) {
				$("#options_notificationOn").attr("checked", "true");
			}
			
			$("#options_notification_sound").val(bkg.settings.notificationSound);
			$('#options_notification_time').val(bkg.settings.notificationTime);
	

	});
</script>

</head>
<body onload="_initOptionsPage();">

	<div id="content">

		<div id="header">
			<h1>
				<script type="text/javascript">
					_writeMessage('options_header_title');
				</script>
			</h1>
		</div>

		<div id="title_description" class="section-header first">
			<script type="text/javascript">
				_writeMessage('description_title');
			</script>
		</div>
		<div class="option_row">
			<script type="text/javascript">
				_writeMessage('description_body');
			</script>
		</div>
		<div id="title_options" class="section-header first">Extend post
			area</div>


		<div class="option_row">
			<div class="option_name">Actions</div>
			<div class="option_picker">
				<input type="checkbox" id="options_add_twitter"
					name="options_add_twitter" onchange="markDirty();" value="1" />Twitter
				</script>
				<input type="checkbox" id="options_add_translate"
					name="options_add_translate" onchange="markDirty();" value="1" />Transalte
				</script>

				<input type="checkbox" id="options_add_bookmark"
					name="options_add_bookmark" onchange="markDirty();" value="1" />Bookmark
				</script>


				<select id="options_add_translate_to" onchange="markDirty();">
					<option value="en">
						English
						</script>
					</option>
					<option value="de">
						Deutsch
						</script>
					</option>
				</select>


			</div>
		</div>

		<!-- 

<div class="option_row">
<div class="option_name"><script type="text/javascript">_writeMessage('options_default_geolocation_title');</script></div>
<div class="option_picker">
<input type="radio" id="default_location_off" name="defaut_location" value="0" checked="checked" />
<label for="default_location_off"><script type="text/javascript">_writeMessage('options_geolocation_anywhere');</script></label>
<input type="radio" id="default_location_on" name="defaut_location" value="1" />
<label for="default_location_on"><script type="text/javascript">_writeMessage('options_geolocation_userdefined');</script></label>

</div>
</div>
 -->



		<div class="clear">
			<!---->
		</div>
		<div id="title_description" class="section-header first">Notifications</div>
		<div class="clear">
			<!---->
		</div>

		<div class="option_row">
			<div class="option_name">Notifications</div>
			<div class="option_picker">
				<input type="checkbox" id="options_notificationOn"
					name="options_notificationOn" onchange="markDirty();" value="1" />enable
				</script>
			</div>
		</div>

		<div class="option_row">
			<div class="option_name">
				<script type="text/javascript">
					_writeMessage('options_sound_alert_title');
				</script>
			</div>
			<div class="option_picker">
				<select id="options_notification_sound" onchange="markDirty();">
					<option value="">
						<script type="text/javascript">
							_writeMessage('options_sound_alert_none');
						</script>
					</option>
					<option
						value="http://audiomicro-dev.s3.amazonaws.com/preview/3674/79ae599f302a87f">
						<script type="text/javascript">
							_writeMessage('options_sound_alert_value', "1");
						</script>
					</option>
					<option
						value="http://audiomicro-dev.s3.amazonaws.com/preview/1118/16281c101ec58b3">
						<script type="text/javascript">
							_writeMessage('options_sound_alert_value', "2");
						</script>
					</option>
					<option
						value="http://audiomicro-dev.s3.amazonaws.com/preview/1118/805816d3e450b21">
						<script type="text/javascript">
							_writeMessage('options_sound_alert_value', "3");
						</script>
					</option>
					<option
						value="http://audiomicro-dev.s3.amazonaws.com/preview/48/03ae041db85161b">
						<script type="text/javascript">
							_writeMessage('options_sound_alert_value', "4");
						</script>
					</option>

				</select>
			</div>
			<button onclick="playSound();">
				<script type="text/javascript">
					_writeMessage('button_play');
				</script>
			</button>
		</div>

		<div class="option_row">
			<div class="option_name">Time to display</div>
			<div class="option_picker">
				<select id="options_notification_time" onchange="markDirty();">
					<option value="3000">
						3
						</script>
					</option>
					<option value="5000">
						5
						</script>
					</option>
					<option value="10000">10</option>
					<option value="15000">15</option>
				</select> seconds
			</div>
		</div>



		<div class="buttons">
			<button id="save_button" onclick="saveOptions();">
				<script type="text/javascript">
					_writeMessage('button_save');
				</script>
			</button>
			<button id="reset_button" onclick="resetOptions();return false;">
				<script type="text/javascript">
					_writeMessage('button_reset');
				</script>
			</button>
			<span id="save_status"><script type="text/javascript">
				_writeMessage('status_save');
			</script>
			</span>
		</div>

		<!-- 
<div id="title_license" class="section-header first"><script type="text/javascript">_writeMessage('license_title');</script></div>
<div id="body_license"><script type="text/javascript">_writeMessage('license_body');</script></div>
-->
	</div>

	<div class="footr">
		<script type="text/javascript">
			_writeMessage('footer_info');
		</script>
	</div>


	<script type="text/javascript">
		//var customDomainsTextbox;
		var saveButton;

		function _initOptionsPage() {
			saveButton = document.getElementById("save_button");
			if (bkg.settings.isFirstRun) {
				markDirty();
			} else {
				markClean();
			}

		}

		function saveOptions() {
			markClean();

			save_options();
			return false;
		}

		function resetOptions() {
			$("#options_add_twitter").attr("checked", true);
			$("#options_add_translate").attr("checked", true);
			$("#options_add_bookmark").attr("checked", true);

			$("#options_add_translate_to").val("en");
			
			$("#options_notificationOn").attr("checked", true);

			$("#options_notification_sound").val("http://audiomicro-dev.s3.amazonaws.com/preview/3674/79ae599f302a87f");

			$('#options_notification_time').val("5000");
			
			saveOptions();
			return false;
		}

		function markDirty() {
			saveButton.disabled = false;
		}

		function markClean() {
			saveButton.disabled = true;
		}

		//Saves options to localStorage.
		function save_options() {
			
			
			bkg.settings.addTwitter = $("#options_add_twitter").attr("checked");
			bkg.settings.addTranslate = $("#options_add_translate").attr("checked");
			bkg.settings.addBookmarks = $("#options_add_bookmark").attr("checked");
			bkg.settings.addTranslateTo = $("#options_add_translate_to").val();
			
			bkg.settings.notificationOn = $("#options_notificationOn").attr("checked");
			bkg.settings.notificationSound = $("#options_notification_sound").val();
			bkg.settings.notificationTime = $('#options_notification_time').val();
			
			//Refresh the extension by reseting timer.
			bkg.refreshConfiguration(); 

			$('#save_status').fadeIn('fast');
			$('#save_status').fadeOut(3000);
		}
	</script>
</body>
</html>